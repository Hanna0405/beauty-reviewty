/* === Leaflet css === */
@import "leaflet/dist/leaflet.css";

/* === No scrollbar helper === */
@import './no-scrollbar.css';

/* === Tailwind === */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
 Тема / переменные
 ========================= */
:root {
 /* основные розовые */
 --pink-600: #ec4899; /* tailwind pink-600 */
 --pink-700: #db2777;

 /* мягкая рамка и тени */
 --soft-border: rgba(0, 0, 0, 0.06);
 
 /* smooth rendering */
 --tw-shadow-color: 233 30 99;
}

/* Тёмная тема (если понадобится) */
@media (prefers-color-scheme: dark) {
 :root {
 --foreground-rgb: 255, 255, 255;
 --background-start-rgb: 20, 20, 20;
 --background-end-rgb: 0, 0, 0;
 }
}

/* =========================
 Базовая типографика
 (шрифты подключаются в layout.tsx через next/font)
 Poppins -> body, Playfair -> заголовки
 ========================= */
html, body {
  @apply bg-white text-gray-900;
  scroll-behavior: smooth;
}

/* Soft page bg tint that matches brand */
:root { 
  --rose-bg: 255 241 246; /* rgb */
}

body { 
  background-color: rgb(var(--rose-bg)); 
}

/* Заголовки — “девичий” Playfair */
h1, h2, h3 {
 font-family: var(--font-serif), ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
}
h1 { @apply text-3xl md:text-4xl; }
h2 { @apply text-2xl md:text-3xl; }
h3 { @apply text-xl md:text-2xl; }

/* Базовый текст — Poppins */
body, p, li, input, select, button {
 font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, "Segoe UI",
 Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* Универсальные контейнеры/секции */
.container-page { @apply max-w-6xl mx-auto px-4; }
.section {
 border: 1px solid var(--soft-border);
 border-radius: 14px;
 background: #fff;
}

/* =========================
 Карта (Leaflet) — стили
 ========================= */

/* Карта всегда тянется на весь контейнер,
 со скруглениями и мягкой тенью */
.leaflet-container {
 height: 100%;
 width: 100%;
 border-radius: 0.5rem;
 box-shadow: 0 2px 6px rgba(0,0,0,.12);
}

/* Слои Leaflet ниже выпадающих меню/попапов */
.leaflet-top,
.leaflet-bottom,
.leaflet-pane {
 z-index: 0 !important;
}

/* Полноэкранная карта минус высота хедера (≈64px) */
.map-screen {
 height: calc(100vh - 64px);
}

/* Попапы Leaflet — чуть аккуратнее */
.leaflet-popup-content-wrapper {
 border-radius: 0.5rem;
 padding: 0.5rem;
}
.leaflet-popup-content { margin: 0; }
.leaflet-popup-tip { background: #fff; }

/* =========================
 Мелкие утилиты под UI
 ========================= */

/* Кнопка розовая по умолчанию (если нужно как класс) */
.btn-pink {
 @apply inline-flex items-center justify-center rounded-lg px-4 py-2 font-medium text-white;
 background-color: var(--pink-600);
}
.btn-pink:hover { background-color: var(--pink-700); }

/* Чипсы (услуги) */
.chip {
 @apply inline-flex items-center rounded-full border px-3 py-1 text-sm;
 background: #fdf2f8; /* pink-50 */
 border-color: #fbcfe8; /* pink-200 */
 color: #be185d; /* pink-700 */
}

/* =========================
 Soft Pink Theme (enhanced)
 ========================= */
:root {
 --pink-primary: #ec4899; /* bright pink for CTAs */
 --pink-soft: #fdf2f8; /* very soft pink background */
 --pink-light: #fce7f3; /* light pink for borders */
 --pink-medium: #f9a8d4; /* medium pink for hover states */
 --pink-dark: #be185d; /* dark pink for text */
 
 --blue-primary: #3b82f6;
 --green-primary: #10b981;
 --red-primary: #ef4444;
}

/* Enhanced button styles */
.btn {
 @apply inline-flex items-center justify-center text-white rounded-lg text-sm font-medium px-4 py-2 transition-all duration-200;
 box-shadow: 0 4px 12px rgba(236, 72, 153, 0.15);
}
.btn:hover {
 transform: translateY(-1px);
 box-shadow: 0 6px 16px rgba(236, 72, 153, 0.25);
}
.btn:active {
 transform: translateY(0);
}
.btn:disabled { 
 @apply opacity-60 cursor-not-allowed;
 transform: none !important;
 box-shadow: 0 4px 12px rgba(236, 72, 153, 0.15) !important;
}

.btn-primary { 
 background: var(--pink-primary); 
}
.btn-primary:hover { 
 background: var(--pink-dark); 
}

.btn-blue { 
 background: var(--blue-primary); 
 box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}
.btn-blue:hover { 
 background: #2563eb;
 box-shadow: 0 6px 16px rgba(59, 130, 246, 0.25);
}

.btn-green { 
 background: var(--green-primary); 
 box-shadow: 0 4px 12px rgba(16, 185, 129, 0.15);
}
.btn-green:hover { 
 background: #059669;
 box-shadow: 0 6px 16px rgba(16, 185, 129, 0.25);
}

.btn-red { 
 background: var(--red-primary); 
 box-shadow: 0 4px 12px rgba(239, 68, 68, 0.15);
}
.btn-red:hover { 
 background: #dc2626;
 box-shadow: 0 6px 16px rgba(239, 68, 68, 0.25);
}

/* Enhanced card styles */
.card-soft { 
 @apply bg-white rounded-xl border-2 shadow-sm hover:shadow-md transition-shadow duration-200; 
 border-color: var(--pink-light);
}
.badge-soft { 
 @apply text-xs px-3 py-1 rounded-full font-medium; 
 background: #ecfccb; 
 color: #365314; 
}
.tag-soft { 
 @apply text-xs px-3 py-1 rounded-full font-medium; 
 background: #e0e7ff; 
 color: #1e40af; 
}
.hl-soft { 
 background: var(--pink-soft); 
}

/* Form input enhancements */
.input {
 @apply w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent;
 border-color: var(--pink-light);
 background: white;
}
.input:hover {
 border-color: var(--pink-medium);
}
.input:focus {
 border-color: var(--pink-primary);
 box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
}

.textarea {
 @apply w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent resize-none;
 border-color: var(--pink-light);
 background: white;
}
.textarea:hover {
 border-color: var(--pink-medium);
}
.textarea:focus {
 border-color: var(--pink-primary);
 box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
}

/* Mobile-first responsive improvements */
@media (max-width: 640px) {
 .btn {
  @apply text-sm px-3 py-2;
 }
 .input, .textarea {
  @apply px-3 py-2 text-sm;
 }
 .card-soft {
  @apply rounded-lg;
 }
 
 /* Sticky save button on mobile */
 .sticky-save {
  position: sticky;
  bottom: 0;
  background: white;
  border-top: 1px solid var(--pink-light);
  padding: 1rem;
  margin: 0 -1rem -1rem -1rem;
  z-index: 10;
 }
 
 /* Form spacing on mobile */
 .mobile-form {
  padding-bottom: 5rem; /* Space for sticky button */
 }
 
 /* Touch-friendly tap targets */
 .touch-target {
  min-height: 44px;
  min-width: 44px;
 }
}

/* =========================
 Skeleton Loading Animations
 ========================= */
@keyframes br-shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton-shimmer {
  background-image: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.5) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  background-size: 200% 100%;
  animation: br-shimmer 1.6s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .skeleton-shimmer { 
    animation: none; 
  }
}

/* =========================
 Glow Animation for CTA Button
 ========================= */
@keyframes glow {
  0% { box-shadow: 0 0 0 0 rgba(244, 63, 94, 0.5); }
  70% { box-shadow: 0 0 0 12px rgba(244, 63, 94, 0); }
  100% { box-shadow: 0 0 0 0 rgba(244, 63, 94, 0); }
}

.animate-glow {
  animation: glow 2s infinite;
}

@media (prefers-reduced-motion: reduce) {
  .animate-glow {
    animation: none;
  }
}